# ============================================================
# TATT MASTER ENVIRONMENT CONFIGURATION
# ============================================================
#
# This is the MASTER template for all TatT projects.
# Copy this file to create environment-specific configs:
#
#   cp .env.master .env.local           (local development)
#   cp .env.master .env.production      (production - add to .gitignore!)
#   cp .env.master .env.staging         (staging environment)
#
# IMPORTANT: Never commit .env.local or .env.production to git!
#
# Variable naming convention:
#   - NEXT_PUBLIC_* = Available in browser (client-side)
#   - Everything else = Server-only (API routes, SSR)
#
# ============================================================

# ============================================================
# DEPLOYMENT ENVIRONMENT
# ============================================================

# Node environment (auto-set by most platforms)
NODE_ENV=development

# ============================================================
# AUTHENTICATION & SECURITY
# ============================================================

# Frontend/Backend authentication token (shared secret)
# CRITICAL: Change this in production!
# Generate with: openssl rand -base64 32
FRONTEND_AUTH_TOKEN=dev-token-change-in-production
NEXT_PUBLIC_FRONTEND_AUTH_TOKEN=dev-token-change-in-production

# Allowed CORS origins (comma-separated)
# Production example: https://tatt.app,https://www.tatt.app
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================================
# GOOGLE CLOUD PLATFORM (GCP)
# ============================================================

# GCP Project Configuration
GCP_PROJECT_ID=tatt-pro
GCP_REGION=us-central1

# GCP Authentication (Choose ONE method below)

# Method 1: Service Account JSON (Recommended for Vercel/Edge)
# Paste entire service account JSON as single-line string
# GOOGLE_APPLICATION_CREDENTIALS_JSON={"type":"service_account","project_id":"..."}
# GCP_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"..."}

# Method 2: Email + Private Key (Alternative)
# GCP_SERVICE_ACCOUNT_EMAIL=your-service-account@tatt-pro.iam.gserviceaccount.com
# GCP_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nMIIE....\n-----END PRIVATE KEY-----

# Method 3: File Path (Local development only - NOT for production)
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# ============================================================
# VERTEX AI (Image Generation + AI Models)
# ============================================================

# Vertex AI Imagen (Image Generation)
VERTEX_PROJECT_ID=tatt-pro
VERTEX_LOCATION=us-central1
VERTEX_IMAGEN_MODEL=imagegeneration@006
VERTEX_IMAGEN_COST_PER_IMAGE=0.03
VERTEX_DAILY_REQUEST_LIMIT=0

# Vertex AI Segmentation (Optional)
# VERTEX_SEGMENTATION_ENDPOINT_ID=1234567890

# Vertex AI Features
NEXT_PUBLIC_VERTEX_AI_ENABLED=true
NEXT_PUBLIC_VERTEX_AI_PROJECT_ID=tatt-pro

# ============================================================
# GOOGLE CLOUD STORAGE (GCS)
# ============================================================

# GCS Bucket Configuration
GCS_BUCKET=tatt-pro.firebasestorage.app
GCS_UPLOAD_PREFIX=generated
GCS_SIGNED_URL_EXPIRY=3600
GCS_SIGNED_URL_TTL_MS=3600000

# ============================================================
# AI COUNCIL (Prompt Enhancement)
# ============================================================

# Council Configuration
NEXT_PUBLIC_USE_COUNCIL=true
NEXT_PUBLIC_COUNCIL_DEMO_MODE=false
NEXT_PUBLIC_COUNCIL_API_URL=http://localhost:8001/api

# OpenRouter (Multi-Model Council)
NEXT_PUBLIC_USE_OPENROUTER=false
OPENROUTER_API_KEY=sk-or-v1-...
OPENROUTER_SITE_URL=https://tatt.app

# ============================================================
# REPLICATE (Alternative Image Generation)
# ============================================================

# Replicate API Token
# Get from: https://replicate.com/account/api-tokens
REPLICATE_API_TOKEN=r8_...

# ============================================================
# SUPABASE (Database + Vector Search)
# ============================================================

# Supabase Project
NEXT_PUBLIC_SUPABASE_URL=https://yfcmysjmoehcyszvkxsr.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOi...

# Supabase Service Role (Server-only - NEVER expose to client!)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOi...

# Vector Search Config (uses Supabase credentials above)
# - pgvector extension enabled
# - 4096-dimensional CLIP embeddings
# - Semantic artist matching via cosine similarity

# ============================================================
# NEO4J (Graph Database - Artist Matching)
# ============================================================

# Neo4j Connection
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=your_neo4j_password_here

# Neo4j Features (Client-side)
NEXT_PUBLIC_NEO4J_ENABLED=true
NEXT_PUBLIC_NEO4J_ENDPOINT=/api/neo4j/query

# ============================================================
# FIREBASE (Real-time Match Pulse)
# ============================================================

# Firebase Client Config (all public - safe to expose)
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSy...
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=tatt-pro.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=tatt-pro
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=tatt-pro.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789:web:abc123
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=G-XXXXXXXXXX

# Firebase Database (fallback reads server var if public not set)
NEXT_PUBLIC_FIREBASE_DATABASE_URL=https://tatt-pro-default-rtdb.firebaseio.com
FIREBASE_DATABASE_URL=https://tatt-pro-default-rtdb.firebaseio.com

# ============================================================
# FEATURE FLAGS
# ============================================================

# Experimental Features
NEXT_PUBLIC_ENABLE_INPAINTING=true
NEXT_PUBLIC_ENABLE_STENCIL_EXPORT=true
NEXT_PUBLIC_ENABLE_AR_PREVIEW=false

# Demo Mode (uses mocks instead of real APIs)
NEXT_PUBLIC_DEMO_MODE=false

# ============================================================
# BUDGET CONTROLS
# ============================================================

# Spending Limits (USD)
NEXT_PUBLIC_MAX_DAILY_SPEND=10.00
NEXT_PUBLIC_TOTAL_BUDGET=500.00

# ============================================================
# BACKEND SERVER (Express/Railway)
# ============================================================

# Server Configuration
HOST=127.0.0.1
PORT=3002

# Proxy URL (for local dev with separate backend)
# NEXT_PUBLIC_PROXY_URL=http://localhost:3002/api

# ============================================================
# ANALYTICS & MONITORING (Optional)
# ============================================================

# Analytics
# NEXT_PUBLIC_ANALYTICS_ID=G-XXXXXXXXXX

# Error Tracking
# NEXT_PUBLIC_SENTRY_DSN=https://xxx@sentry.io/xxx

# ============================================================
# APPLICATION URLS
# ============================================================

# Site URL (for OpenRouter, social sharing, etc)
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# ============================================================
# NOTES FOR DIFFERENT ENVIRONMENTS
# ============================================================
#
# LOCAL DEVELOPMENT (.env.local):
#   - Use dev-token-change-in-production for auth
#   - Point to local Neo4j/Firebase
#   - DEMO_MODE=true is fine for testing
#   - localhost URLs everywhere
#
# STAGING (.env.staging):
#   - Generate real auth token
#   - Use staging database instances
#   - DEMO_MODE=false
#   - Staging URLs (staging.tatt.app)
#
# PRODUCTION (.env.production):
#   - MUST change FRONTEND_AUTH_TOKEN to secure random string
#   - Use production databases
#   - DEMO_MODE=false
#   - Production URLs (tatt.app)
#   - Enable analytics/monitoring
#   - Set appropriate ALLOWED_ORIGINS
#
# ============================================================
